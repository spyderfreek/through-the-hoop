public var picStage_0 : Texture;
public var picStage_1 : Texture;
public var picStage_2 : Texture;
public var picStage_3 : Texture;
public var picStage_4 : Texture;
public var picStage_5 : Texture;
public var picStage_6 : Texture;
public var picStage_7 : Texture;
public var picStage_8 : Texture;
public var picStage_9 : Texture;

public var picStage_10 : Texture;
public var picStage_11 : Texture;
public var picStage_12 : Texture;
public var picStage_13 : Texture;
public var picStage_14 : Texture;
public var picStage_15 : Texture;
public var picStage_16 : Texture;
public var picStage_17 : Texture;
public var picStage_18 : Texture;
public var picStage_19 : Texture;

public var picStage_20 : Texture;
public var picStage_21 : Texture;
public var picStage_22 : Texture;
public var picStage_23 : Texture;
public var picStage_24 : Texture;
public var picStage_25 : Texture;
public var picStage_26 : Texture;
public var picStage_27 : Texture;
public var picStage_28 : Texture;
public var picStage_29 : Texture;

public var picStage_30 : Texture;
public var picStage_31 : Texture;
public var picStage_32 : Texture;
public var picStage_33 : Texture;
public var picStage_34 : Texture;
public var picStage_35 : Texture;
public var picStage_36 : Texture;
public var picStage_37 : Texture;
public var picStage_38 : Texture;
public var picStage_39 : Texture;

public var picStage_40 : Texture;
public var picStage_41 : Texture;
public var picStage_42 : Texture;
public var picStage_43 : Texture;
public var picStage_44 : Texture;
public var picStage_45 : Texture;
public var picStage_46 : Texture;
public var picStage_47 : Texture;
public var picStage_48 : Texture;
public var picStage_49 : Texture;

public var picStage_50 : Texture;
public var picStage_51 : Texture;
public var picStage_52 : Texture;
public var picStage_53 : Texture;
public var picStage_54 : Texture;
public var picStage_55 : Texture;
public var picStage_56 : Texture;
public var picStage_57 : Texture;
public var picStage_58 : Texture;
public var picStage_59 : Texture;

public var picStage_60 : Texture;
public var picStage_61 : Texture;
public var picStage_62 : Texture;
public var picStage_63 : Texture;
public var picStage_64 : Texture;
public var picStage_65 : Texture;
public var picStage_66 : Texture;
public var picStage_67 : Texture;
public var picStage_68 : Texture;
public var picStage_69 : Texture;

public var picStage_70 : Texture;
public var picStage_71 : Texture;
public var picStage_72 : Texture;
public var picStage_73 : Texture;
public var picStage_74 : Texture;
public var picStage_75 : Texture;
public var picStage_76 : Texture;
public var picStage_77 : Texture;
public var picStage_78 : Texture;
public var picStage_79 : Texture;

public var picStage_80 : Texture;
public var picStage_81 : Texture;
public var picStage_82 : Texture;
public var picStage_83 : Texture;
public var picStage_84 : Texture;
public var picStage_85 : Texture;
public var picStage_86 : Texture;
public var picStage_87 : Texture;
public var picStage_88 : Texture;
public var picStage_89 : Texture;

public var picStage_90 : Texture;
public var picStage_91 : Texture;
public var picStage_92 : Texture;
public var picStage_93 : Texture;
public var picStage_94 : Texture;
public var picStage_95 : Texture;
public var picStage_96 : Texture;
public var picStage_97 : Texture;
public var picStage_98 : Texture;
public var picStage_99 : Texture;




public var szStage_0 : String;
public var szStage_1 : String;
public var szStage_2 : String;
public var szStage_3 : String;
public var szStage_4 : String;
public var szStage_5 : String;
public var szStage_6 : String;
public var szStage_7 : String;
public var szStage_8 : String;
public var szStage_9 : String;

public var szStage_10: String;
public var szStage_11: String;
public var szStage_12: String;
public var szStage_13: String;
public var szStage_14: String;
public var szStage_15: String;
public var szStage_16: String;
public var szStage_17: String;
public var szStage_18: String;
public var szStage_19: String;
 
public var szStage_20: String;
public var szStage_21: String;
public var szStage_22: String;
public var szStage_23: String;
public var szStage_24: String;
public var szStage_25: String;
public var szStage_26: String;
public var szStage_27: String;
public var szStage_28: String;
public var szStage_29: String;

public var szStage_30: String;
public var szStage_31: String;
public var szStage_32: String;
public var szStage_33: String;
public var szStage_34: String;
public var szStage_35: String;
public var szStage_36: String;
public var szStage_37: String;
public var szStage_38: String;
public var szStage_39: String;

public var szStage_40: String;
public var szStage_41: String;
public var szStage_42: String;
public var szStage_43: String;
public var szStage_44: String;
public var szStage_45: String;
public var szStage_46: String;
public var szStage_47: String;
public var szStage_48: String;
public var szStage_49: String;

public var szStage_50: String;
public var szStage_51: String;
public var szStage_52: String;
public var szStage_53: String;
public var szStage_54: String;
public var szStage_55: String;
public var szStage_56: String;
public var szStage_57: String;
public var szStage_58: String;
public var szStage_59: String;

public var szStage_60: String;
public var szStage_61: String;
public var szStage_62: String;
public var szStage_63: String;
public var szStage_64: String;
public var szStage_65: String;
public var szStage_66: String;
public var szStage_67: String;
public var szStage_68: String;
                   
public var szStage_69: String;
public var szStage_70: String;
public var szStage_71: String;
public var szStage_72: String;
public var szStage_73: String;
public var szStage_74: String;
public var szStage_75: String;
public var szStage_76: String;
public var szStage_77: String;
public var szStage_78: String;
                   
public var szStage_79: String;
public var szStage_80: String;
public var szStage_81: String;
public var szStage_82: String;
public var szStage_83: String;
public var szStage_84: String;
public var szStage_85: String;
public var szStage_86: String;
public var szStage_87: String;
public var szStage_88: String;
                   
public var szStage_89: String;
public var szStage_90: String;
public var szStage_91: String;
public var szStage_92: String;
public var szStage_93: String;
public var szStage_94: String;
public var szStage_95: String;
public var szStage_96: String;
public var szStage_97: String;
public var szStage_98: String;
public var szStage_99: String;
                   
 public var arraytest: Array;


private var nSelectedStage:int;

private var hasSelectedLevel:boolean = false;
private var levelToLoad:String;

//Boxes
private var nButtonBoxStartX;
private var nButtonBoxStartY;
private var nButtonBoxWidth;
private var nButtonBoxHeight;

//buttons inside of it
private var nButtonStartX_Stage:int;
private var nButtonStartY_Stage:int;

private var nButtonNextX_Stage:int;
private var nButtonNextY_Stage:int;

private var nButtonSizeX_Stage:int;
private var nButtonSizeY_Stage:int;

//go button
private var nButtonStartX_GO:int;
private var nButtonStartY_GO:int;

private var nButtonSizeX_GO:int;
private var nButtonSizeY_GO:int;

private var nButtonStartX_Back:int;
private var nButtonStartY_Back:int;

private var nButtonSizeX_Back:int;
private var nButtonSizeY_Back:int;


//Stage Image
private var nImageStartX :int;
private var nImageStartY :int;

private var nImageWidth : int;
private var nImageHeight : int;

private var nMaxNumberOfStages: int = 100;
private var nPage: int;
public var nTotalStages : int = 9;
private var faBestTime; 
private var TextureArray_Stages;
private var szaStageName;

private var nState:int = 0;
//private var szSelectedStageName:String;
function Start()
{


	nPage = 0;
     nState = 0;
     
     if(nMaxNumberOfStages < nTotalStages)
     {
     	nTotalStages = nMaxNumberOfStages;
     }
      
      //get names into an array
     szaStageName = new Array();  
      
    szaStageName[0] =  szStage_0 ;
	szaStageName[1] =  szStage_1  ;
	szaStageName[2] =  szStage_2  ;
	szaStageName[3] =  szStage_3  ;
	szaStageName[4] =  szStage_4  ;
	szaStageName[5] =  szStage_5  ;
	szaStageName[6] =  szStage_6  ;
	szaStageName[7] =  szStage_7  ;
	szaStageName[8] =  szStage_8  ;
	szaStageName[9] =  szStage_9  ;
	 
	szaStageName[10] =  szStage_10  ;
	szaStageName[11] =  szStage_11  ;
	szaStageName[12] =  szStage_12  ;
	szaStageName[13] =  szStage_13  ;
	szaStageName[14] =  szStage_14  ;
	szaStageName[15] =  szStage_15  ;
	szaStageName[16] =  szStage_16  ;
	szaStageName[17] =  szStage_17  ;
	szaStageName[18] =  szStage_18  ;
	szaStageName[19] =  szStage_19  ;
  
    szaStageName[20] =  szStage_20  ;
	szaStageName[21] =  szStage_21  ;
	szaStageName[22] =  szStage_22  ;
	szaStageName[23] =  szStage_23  ;
	szaStageName[24] =  szStage_24  ;
	szaStageName[25] =  szStage_25  ;
	szaStageName[26] =  szStage_26  ;
	szaStageName[27] =  szStage_27  ;
	szaStageName[28] =  szStage_28  ;
	szaStageName[29] =  szStage_29    ;
	
	szaStageName[30] =  szStage_30  ;
	szaStageName[31] =  szStage_31  ;
	szaStageName[32] =  szStage_32  ;
	szaStageName[33] =  szStage_33  ;
	szaStageName[34] =  szStage_34  ;
	szaStageName[35] =  szStage_35  ;
	szaStageName[36] =  szStage_36  ;
	szaStageName[37] =  szStage_37  ;
	szaStageName[38] =  szStage_38  ;
	szaStageName[39] =  szStage_39    ;
	
	szaStageName[40] =  szStage_40  ;
	szaStageName[41] =  szStage_41  ;
	szaStageName[42] =  szStage_42  ;
	szaStageName[43] =  szStage_43  ;
	szaStageName[44] =  szStage_44  ;
	szaStageName[45] =  szStage_45  ;
	szaStageName[46] =  szStage_46  ;
	szaStageName[47] =  szStage_47  ;
	szaStageName[48] =  szStage_48  ;
	szaStageName[49] =  szStage_49   ;
	
	szaStageName[50] =  szStage_50  ;
	szaStageName[51] =  szStage_51  ;
	szaStageName[52] =  szStage_52  ;
	szaStageName[53] =  szStage_53  ;
	szaStageName[54] =  szStage_54  ;
	szaStageName[55] =  szStage_55  ;
	szaStageName[56] =  szStage_56  ;
	szaStageName[57] =  szStage_57  ;
	szaStageName[58] =  szStage_58  ;
	szaStageName[59] =  szStage_59   ;
	
	szaStageName[60] =  szStage_60  ;
	szaStageName[61] =  szStage_61  ;
	szaStageName[62] =  szStage_62  ;
	szaStageName[63] =  szStage_63  ;
	szaStageName[64] =  szStage_64  ;
	szaStageName[65] =  szStage_65  ;
	szaStageName[66] =  szStage_66  ;
	szaStageName[67] =  szStage_67  ;
	szaStageName[68] =  szStage_68  ;
	szaStageName[69] =  szStage_69   ;
	           
	szaStageName[70] =  szStage_70  ;
	szaStageName[71] =  szStage_71  ;
	szaStageName[72] =  szStage_72  ;
	szaStageName[73] =  szStage_73  ;
	szaStageName[74] =  szStage_74  ;
	szaStageName[75] =  szStage_75  ;
	szaStageName[76] =  szStage_76  ;
	szaStageName[77] =  szStage_77  ;
	szaStageName[78] =  szStage_78  ;
	szaStageName[79] =  szStage_79   ;
	           
	szaStageName[80] =  szStage_80  ;
	szaStageName[81] =  szStage_81  ;
	szaStageName[82] =  szStage_82  ;
	szaStageName[83] =  szStage_83  ;
	szaStageName[84] =  szStage_84  ;
	szaStageName[85] =  szStage_85  ;
	szaStageName[86] =  szStage_86  ;
	szaStageName[87] =  szStage_87  ;
	szaStageName[88] =  szStage_88  ;
	szaStageName[89] =  szStage_89   ;
	           
	szaStageName[90] =  szStage_90  ;
	szaStageName[91] =  szStage_91  ;
	szaStageName[92] =  szStage_92  ;
	szaStageName[93] =  szStage_93  ;
	szaStageName[94] =  szStage_94  ;
	szaStageName[95] =  szStage_95  ;
	szaStageName[96] =  szStage_96  ;
	szaStageName[97] =  szStage_97  ;
	szaStageName[98] =  szStage_98  ;
	szaStageName[99] =  szStage_99   ;
	
      
     //get the best time
     faBestTime = new Array();  
     for(var i = 0; i < 100; ++i)
     {
		faBestTime[i] =  PlayerPrefs.GetFloat(szaStageName[i] + "_BestTime",9999.0f);
      
     }
    // get the texture to the stages into an array
    TextureArray_Stages = new Array();
    TextureArray_Stages[0] =  picStage_0 ;
	TextureArray_Stages[1] =  picStage_1  ;
	TextureArray_Stages[2] =  picStage_2  ;
	TextureArray_Stages[3] =  picStage_3  ;
	TextureArray_Stages[4] =  picStage_4  ;
	TextureArray_Stages[5] =  picStage_5  ;
	TextureArray_Stages[6] =  picStage_6  ;
	TextureArray_Stages[7] =  picStage_7  ;
	TextureArray_Stages[8] =  picStage_8  ;
	TextureArray_Stages[9] =  picStage_9  ;
	 
	TextureArray_Stages[10] =  picStage_10  ;
	TextureArray_Stages[11] =  picStage_11  ;
	TextureArray_Stages[12] =  picStage_12  ;
	TextureArray_Stages[13] =  picStage_13  ;
	TextureArray_Stages[14] =  picStage_14  ;
	TextureArray_Stages[15] =  picStage_15  ;
	TextureArray_Stages[16] =  picStage_16  ;
	TextureArray_Stages[17] =  picStage_17  ;
	TextureArray_Stages[18] =  picStage_18  ;
	TextureArray_Stages[19] =  picStage_19  ;
  
    TextureArray_Stages[20] =  picStage_20  ;
	TextureArray_Stages[21] =  picStage_21  ;
	TextureArray_Stages[22] =  picStage_22  ;
	TextureArray_Stages[23] =  picStage_23  ;
	TextureArray_Stages[24] =  picStage_24  ;
	TextureArray_Stages[25] =  picStage_25  ;
	TextureArray_Stages[26] =  picStage_26  ;
	TextureArray_Stages[27] =  picStage_27  ;
	TextureArray_Stages[28] =  picStage_28  ;
	TextureArray_Stages[29] =  picStage_29    ;
	
	TextureArray_Stages[30] =  picStage_30  ;
	TextureArray_Stages[31] =  picStage_31  ;
	TextureArray_Stages[32] =  picStage_32  ;
	TextureArray_Stages[33] =  picStage_33  ;
	TextureArray_Stages[34] =  picStage_34  ;
	TextureArray_Stages[35] =  picStage_35  ;
	TextureArray_Stages[36] =  picStage_36  ;
	TextureArray_Stages[37] =  picStage_37  ;
	TextureArray_Stages[38] =  picStage_38  ;
	TextureArray_Stages[39] =  picStage_39    ;
	
	TextureArray_Stages[40] =  picStage_40  ;
	TextureArray_Stages[41] =  picStage_41  ;
	TextureArray_Stages[42] =  picStage_42  ;
	TextureArray_Stages[43] =  picStage_43  ;
	TextureArray_Stages[44] =  picStage_44  ;
	TextureArray_Stages[45] =  picStage_45  ;
	TextureArray_Stages[46] =  picStage_46  ;
	TextureArray_Stages[47] =  picStage_47  ;
	TextureArray_Stages[48] =  picStage_48  ;
	TextureArray_Stages[49] =  picStage_49   ;
	
	TextureArray_Stages[50] =  picStage_50  ;
	TextureArray_Stages[51] =  picStage_51  ;
	TextureArray_Stages[52] =  picStage_52  ;
	TextureArray_Stages[53] =  picStage_53  ;
	TextureArray_Stages[54] =  picStage_54  ;
	TextureArray_Stages[55] =  picStage_55  ;
	TextureArray_Stages[56] =  picStage_56  ;
	TextureArray_Stages[57] =  picStage_57  ;
	TextureArray_Stages[58] =  picStage_58  ;
	TextureArray_Stages[59] =  picStage_59   ;
	
	TextureArray_Stages[60] =  picStage_60  ;
	TextureArray_Stages[61] =  picStage_61  ;
	TextureArray_Stages[62] =  picStage_62  ;
	TextureArray_Stages[63] =  picStage_63  ;
	TextureArray_Stages[64] =  picStage_64  ;
	TextureArray_Stages[65] =  picStage_65  ;
	TextureArray_Stages[66] =  picStage_66  ;
	TextureArray_Stages[67] =  picStage_67  ;
	TextureArray_Stages[68] =  picStage_68  ;
	TextureArray_Stages[69] =  picStage_69   ;
	           
	TextureArray_Stages[70] =  picStage_70  ;
	TextureArray_Stages[71] =  picStage_71  ;
	TextureArray_Stages[72] =  picStage_72  ;
	TextureArray_Stages[73] =  picStage_73  ;
	TextureArray_Stages[74] =  picStage_74  ;
	TextureArray_Stages[75] =  picStage_75  ;
	TextureArray_Stages[76] =  picStage_76  ;
	TextureArray_Stages[77] =  picStage_77  ;
	TextureArray_Stages[78] =  picStage_78  ;
	TextureArray_Stages[79] =  picStage_79   ;
	           
	TextureArray_Stages[80] =  picStage_80  ;
	TextureArray_Stages[81] =  picStage_81  ;
	TextureArray_Stages[82] =  picStage_82  ;
	TextureArray_Stages[83] =  picStage_83  ;
	TextureArray_Stages[84] =  picStage_84  ;
	TextureArray_Stages[85] =  picStage_85  ;
	TextureArray_Stages[86] =  picStage_86  ;
	TextureArray_Stages[87] =  picStage_87  ;
	TextureArray_Stages[88] =  picStage_88  ;
	TextureArray_Stages[89] =  picStage_89   ;
	           
	TextureArray_Stages[90] =  picStage_90  ;
	TextureArray_Stages[91] =  picStage_91  ;
	TextureArray_Stages[92] =  picStage_92  ;
	TextureArray_Stages[93] =  picStage_93  ;
	TextureArray_Stages[94] =  picStage_94  ;
	TextureArray_Stages[95] =  picStage_95  ;
	TextureArray_Stages[96] =  picStage_96  ;
	TextureArray_Stages[97] =  picStage_97  ;
	TextureArray_Stages[98] =  picStage_98  ;
	TextureArray_Stages[99] =  picStage_99   ;
	
	//get the next place for default highlighting
	var szLastWinStage :String = "";
	szLastWinStage = PlayerPrefs.GetString("LastWinStage","");
	if(szLastWinStage != "")
	{
		for(var iTotalStages = 0; iTotalStages < nTotalStages; ++iTotalStages)
		{
			if(szLastWinStage == szaStageName[iTotalStages])
			{
				if(iTotalStages+1 < nTotalStages)
					nSelectedStage = iTotalStages +1;
				else
					nSelectedStage = iTotalStages;	
					
				nPage = nSelectedStage / 5;
			}
		}
	
	}
	
}

function OnGUI()
{
//window size
	nButtonBoxStartX = (3.0f/4.0f) * Screen.width - 20;
	nButtonBoxStartY = (1.0f/8.0f) * Screen.height;
	
	nButtonBoxWidth = (1.0f/4.0f) * Screen.width;
	nButtonBoxHeight = (5.0f/8.0f) * Screen.height;
	
	nButtonStartX_Stage = nButtonBoxStartX + (nButtonBoxWidth * (1.0f/ 8.0f));
	nButtonStartY_Stage = nButtonBoxStartY + (nButtonBoxHeight * (1.0f / 12.0f ));
	
	nButtonSizeX_Stage = (nButtonBoxWidth * (6.0f/8.0f));
	nButtonSizeY_Stage = (nButtonBoxHeight * (2.0f/12.0f));
	
	nButtonNextX_Stage = 0;
	nButtonNextY_Stage = (4.0f / 12.0f) * nButtonBoxHeight;
	
	

	nButtonSizeX_GO = nButtonSizeX_Stage;
	nButtonSizeY_GO = nButtonSizeY_Stage;
	//window sise

//back
	nButtonStartX_Back = nButtonStartX_Stage;
	nButtonStartY_Back = nButtonStartY_GO;
	
	nButtonSizeX_Back = nButtonSizeX_Stage;
	nButtonSizeY_Back = nButtonSizeY_Stage;	
 
 //image
	nImageStartX = (Screen.width * (7.0f / 100.0f)) ;
	nImageStartY = (Screen.height * (15.0f / 100.0f));
	
	
	//go
	nButtonStartX_GO = (Screen.width) * ( 1.0f / 4.0f);
	nButtonStartY_GO = (Screen.height) * ( 8.0f / 10.0f);
    
    if(nState == 0)
    {
//background box
	GUI.Box (Rect (Screen.width *.005,Screen.height * .01,Screen.width -(Screen.width * .01), Screen.height - (Screen.height * .01 *2)), "Stage Select");

	//stagebox
	var recStageBox = Rect (nButtonBoxStartX,Screen.height * .02f,nButtonBoxWidth,Screen.height - (Screen.height * .02f *2));
	GUI.Box (recStageBox,"");
	
	
//	var recSelectBox = new Rect(nButtonStartX_Stage + (nButtonNextX_Stage * nSelectedStage) - 5, nButtonStartY_Stage + ((nButtonNextY_Stage * nSelectedStage)/2) -5, nButtonSizeX_Stage + 10, nButtonSizeY_Stage + 10);
	//select box
	//GUI.Box(Rect(nButtonStartX_Stage + (nButtonNextX_Stage * nSelectedStage) - 5, nButtonStartY_Stage + ((nButtonNextY_Stage * nSelectedStage)/2) -5, nButtonSizeX_Stage + 10, nButtonSizeY_Stage + 10),"");
	
	var rectSelectionArea = new Rect (recStageBox.x + (Screen.width * .01f ), recStageBox.y + (Screen.height * .01f),
				recStageBox.width - (Screen.width * .02f ), recStageBox.height - (Screen.height * .02f) );
	
	//GUI.Box(rectSelectionArea,"testarea");
	
	GUILayout.BeginArea(rectSelectionArea,"");
	GUILayout.BeginVertical();
	if (GUILayout.Button("Back",GUILayout.ExpandHeight(true)))
	{
		if(nPage > 0)
			nPage --;
	}
	
	var nLevelStart = (nPage * 5);
	

	for(var nI = 0; nI < 5; ++nI)
	{
		var nCurrentButtonLevel: int = nLevelStart + 1 + nI;
		if(nCurrentButtonLevel <= nTotalStages)
		{
			if(nSelectedStage == nCurrentButtonLevel -1)
			{
				GUILayout.Button("--- Level " + (nCurrentButtonLevel) + " ---",GUILayout.ExpandHeight(true));
			}
			else
			{
			if (GUILayout.Button("Level " + (nCurrentButtonLevel),GUILayout.ExpandHeight(true)))
			{
				nSelectedStage = nCurrentButtonLevel -1;
			}
			}
		}
		else
		{
			GUILayout.Label("",GUILayout.ExpandHeight(true));
		
		}
	
	}
	

	
	
	if( GUILayout.Button("Next",GUILayout.ExpandHeight(true)))
	{
		if(nTotalStages > ((nPage+1) *5))
		{
			nPage ++;
		}
	}
	GUILayout.EndVertical();
	GUILayout.EndArea();
	
	//area for go and back
	var RectAreaBackGoErase: Rect = new Rect ( nImageStartX, nButtonStartY_Back, nButtonSizeX_Back * 3, nButtonSizeY_Back);
	GUILayout.BeginArea(RectAreaBackGoErase);
	GUILayout.BeginHorizontal();
	if (GUILayout.Button("MainMenu",GUILayout.Height(nButtonSizeY_Back)))
	{
		levelToLoad = "Back";
		hasSelectedLevel = true;
	}

	if (GUILayout.Button("Start",GUILayout.Height(nButtonSizeY_Back),GUILayout.Width(nButtonSizeX_Back)))
	
	{
		levelToLoad = szaStageName[nSelectedStage];
		hasSelectedLevel = true;
	}
	if (GUILayout.Button("Reset\n Best Time",GUILayout.Height(nButtonSizeY_Back)))
	{
		//todo: set best time back to default
		nState = 1;
	}
	
	GUILayout.EndHorizontal();
	GUILayout.EndArea();
	
	if(false){
	//Go
	if(GUI.Button(Rect(nButtonStartX_GO,nButtonStartY_GO, nButtonSizeX_GO,nButtonSizeY_GO),"Start"))
	{ 
		levelToLoad = szaStageName[nSelectedStage];

		hasSelectedLevel = true;
	}
	
	//back
	if(GUI.Button(Rect(nImageStartX,nButtonStartY_Back, nButtonSizeX_Back,nButtonSizeY_Back),"Back"))
	{
		//go back to main menu 
		levelToLoad = "MainMenu";
		hasSelectedLevel = true;
	} 
	}
	//drawImage
	nImageStartX = (Screen.width * (7.0f / 100.0f)) ;
	nImageStartY = (Screen.height * (15.0f / 100.0f));
	nImageWidth  = (Screen.width * (60.0f / 100.0f));
    nImageHeight = (Screen.height * (60.0f / 100.0f));
	var szStageName :String= "";
	var rectImageBox = Rect(nImageStartX,nImageStartY,nImageWidth,nImageHeight);
	  
	  if(TextureArray_Stages[nSelectedStage] != null)
	  {
	 	GUI.DrawTexture(rectImageBox, TextureArray_Stages[nSelectedStage]); 
	 	}
	  szStageName = szaStageName[nSelectedStage];
	  

	var rectSelectedStageBox : Rect = Rect ( nImageStartX,nImageStartY - (Screen.height * .075f),nImageWidth , Screen.height *0.065f);
	var szOutput = szStageName + "\nBest Time: " + faBestTime[nSelectedStage];
	GUI.Box(rectSelectedStageBox, szOutput);
				
	}
	else
	{
	GUI_ResetBestTime();
		}	

	
}
function Update () {
	if( hasSelectedLevel && Application.CanStreamedLevelBeLoaded( levelToLoad ) ) {
    	Application.LoadLevel( levelToLoad );
    }
}

function GUI_ResetBestTime()
{
	GUI.Box (Rect (Screen.width *.005,Screen.height * .01,Screen.width -(Screen.width * .01), Screen.height - (Screen.height * .01 *2)), "Reset Best Time");
	
	var rectQuestionBox: Rect = new Rect (Screen.width *.25, Screen.height * .25, Screen.width * .5, Screen.height * .5);
	GUI.Box (rectQuestionBox, "Do you want to reset the Best Time for this Level?");
	
	var rectYesNoArea: Rect = new Rect (rectQuestionBox.x + (rectQuestionBox.width * .01), rectQuestionBox.y + (rectQuestionBox.height * .5) , 
	rectQuestionBox.width - (rectQuestionBox.width * .02), (rectQuestionBox.height * .4));
	
	GUILayout.BeginArea(rectYesNoArea);
	GUILayout.BeginHorizontal();
	
	if (GUILayout.Button("Yes",GUILayout.ExpandHeight(true)))
	{
		faBestTime[nSelectedStage] = 9999;  
		PlayerPrefs.SetFloat(szaStageName[nSelectedStage] + "_BestTime",9999.0f);
		nState = 0;
	}
	
	if (GUILayout.Button("No",GUILayout.ExpandHeight(true)))
	{
		nState = 0;
	}
	
	GUILayout.EndHorizontal();
	GUILayout.EndArea();
	
}
